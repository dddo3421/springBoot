<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring_boot.book.dao.IMemberDAO">

	<!-- id pwd 가 일치하면 memId 반환
	<select id="loginCheck" parameterType="hashmap" resultType="string" >
		select memId from member where memId=#{id} and memPwd=#{pwd}
	</select>
	-->
	
	<!-- 비밀번호가 암호화 된 경우 로그인 체크  -->
	<select id="loginCheck" parameterType="string" resultType="string" >
		select memPwd from member where memId=#{id} 
	</select>
	
	<!-- id 중복 체크 -->
	<select id="idCheck" parameterType="string" resultType="string" >
		select memId from member where memId=#{id}
	</select>
	
	<!-- 회원등록 -->
	<insert id="insertMember" parameterType="com.spring_boot.book.model.MemberVO">
		INSERT INTO member(memId, memPwd, memName, memEmail, memHP,
  								     memZipcode, memAddress1, memAddress2)
  	    VALUES(#{memId}, #{memPwd}, #{memName}, #{memEmail}, 
  	    	           #{memHP}, #{memZipcode}, #{memAddress1}, #{memAddress2})
	</insert>
</mapper>






<!--

<select> 태그 속성 정리

id           : Mapper에서 해당 쿼리를 호출할 때 사용할 이름 (필수)
parameterType: 쿼리에 전달할 파라미터 타입 (자바 클래스, Map 등)
resultType   : 쿼리 결과를 담을 객체 타입 (자바 클래스, 기본타입)
resultMap    : 복잡한 결과 매핑을 위해 미리 정의한 <resultMap> 참조
flushCache   : 쿼리 실행 후 캐시 플러시 여부 (true/false)
useCache     : 쿼리 결과를 2차 캐시에 저장할지 여부 (true/false)
timeout      : 쿼리 실행 제한 시간 (초 단위)
fetchSize    : JDBC Statement의 fetchSize 설정
statementType: 쿼리 실행 방식 (STATEMENT, PREPARED, CALLABLE)
databaseId   : DB 벤더 구분용 속성
keyProperty  : insert 시 자동 생성 키를 자바 객체에 설정할 프로퍼티
keyColumn    : insert 시 자동 생성 키를 DB 컬럼과 매핑
resultSetType: JDBC ResultSet 타입 (FORWARD_ONLY, SCROLL_INSENSITIVE, SCROLL_SENSITIVE)
lang         : 커스텀 언어 드라이버 지정 (보통는 사용 안 함)

-->